@using Microsoft.AspNetCore.Http.Features
@{
    var feature = Context.Features.Get<ITrackingConsentFeature>();
    var needed = feature?.IsConsentNeeded ?? true;
    var strCookie = feature?.CreateConsentCookie();
}
    <div class="login-box">
        <div class="login-logo">
            <b>As</b>Mgr
        </div>
        <div class="login-box-body">
            <p class="login-box-msg">Sign in to start your session</p>
            <form method="post" action="javascript:void(0)">
                <div class="form-group has-feedback">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                        <input name="account" type="text" class="form-control" data-bind="value:model.account" placeholder="Account">
                    </div>
                    <span class="form-control-feedback"></span>
                </div>
                <div class="form-group has-feedback">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                        <input name="password" type="password" class="form-control" data-bind="value:model.password" placeholder="Password">
                    </div>
                    <span class="form-control-feedback"></span>
                </div>
                <div class="row">
                    <div class="col-xs-8">
                        <div class="checkbox">
                            <label for="rememberMe">
                                <input id="rememberMe" type="checkbox" data-bind="checked:model.rememberMe">
                                Remember Me
                            </label>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <a href="javascript:void(0)" class="btn btn-primary btn-block btn-flat" data-bind="click:signInClick">Sign In</a>
                    </div>
                </div>
            </form>
            <a href="javascript:void(0)">I forgot my password</a><br>
            <a href="javascript:void(0)" class="text-center">Register a new membership</a>
        </div>
    </div>
@section Scripts{
<environment include="Development">
    <script src="~/js/asmgr.auth.signin.js" asp-append-version="true"></script>
    <script type="text/javascript">
        $(function () {
            var vm = new viewModel($('input[name="__RequestVerificationToken"]').val(), $('form')); ko.applyBindings(vm);@Html.Raw(needed?$"document.cookie = '{strCookie}'":string.Empty)
        });
    </script>
</environment>
}